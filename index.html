<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="author" content="George Carlson">

  <link rel="stylesheet" type="text/css" href="../default.css">
  <!-- Bootstrap -->
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://code.jquery.com/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

  <!-- Dogecoin Librarys -->
  <script type="text/javascript" src="js/bitcoin.js"></script>
  <script type="text/javascript" src="js/doge_yip_post.js"></script>
  <script type="text/javascript" src="js/doge_yip_read.js"></script>
  <script type="text/javascript" src="js/doge_yip_hash160ToText.js"></script>
  <script type="text/javascript" src="js/doge_yip_timestamp.js"></script>
  <script type="text/javascript" src="js/doge_yip_listaccount.js"></script>
  <script type="text/javascript" src="js/doge_yip_inarray.js"></script>
  <script type="text/javascript" src="js/doge_yip_address_ajax.js"></script>
  <script type="text/javascript" src="js/doge_yip_scrapeusername.js"></script>
  <script type="text/javascript" src="js/doge_yip_scrape_connecting_posts.js"></script>
  <script type="text/javascript" src="js/doge_yip_lookup_dictionary.js"></script>
  <script type="text/javascript" src="js/doge_yip_navagation.js"></script>
  <script type="text/javascript" src="js/doge_yip_setname.js"></script>
  <script type="text/javascript" src="js/qrcode.js"></script>

  <style>
    body 
    {
      background-color:#FBF0D9;
    }
    #banner
    {
      background-color:#54C571;
    }
  </style>
</head>
<body>

  <a class="sr-only" href="#content">Skip to main content</a>

  <!-- Docs master nav -->
  <header class="navbar navbar-static-top bs-docs-nav" role="banner">
    <div class="container">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
          <span>Menu</span>
        </button>
        <a rel="home" class="navbar-brand indexlink" href="javascript: void(0)"><img width=25 height=25 src='img/open-iconic/home.svg'/> Doge Yip</a>
      </div>
      <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        <ul class="nav navbar-nav">
          <li>
            <a rel="me" class="u-url url languagelink" href="javascript: void(0)" title="Select Language"><img width=15 height=15 src='img/open-iconic/globe.svg'/> Language: English</a>
          </li>
          <li>
            <a rel="me" class="u-url url searchlink" href="javascript: void(0)" title="Search"><img width=15 height=15 src='img/open-iconic/magnifying-glass.svg'/> Search</a>
          </li>
          <li>
            <a rel="me" class="u-url url setnamelink" href="javascript: void(0)" title="Set Name"><img width=15 height=15 src='img/open-iconic/pencil.svg'/> Set Name</a>
          </li>
          <li>
            <a rel="me" class="u-url url postlink" href="javascript: void(0)" title="Compose new Bark"><img width=15 height=15 src='img/open-iconic/comment-square.svg'/> Bark</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Banner -->
  <div class="bs-header" id="banner">
   <div class="container">
    <table>
     <tr>
      <td>
       <!-- Doge Yip Logo -->
       <div class="favorite index language post search setname bigqrcode" style="display: none;">
         <img width=125px height=125px src="img/dogecoin.png"></img>
       </div>
       <!-- User QR Code -->
       <div class="profile" style="display: none;">
         <div id="profileQR" style="vertical-align:top;"></div>
       </div>
      </td>
      <td>
       <!-- Favorite Header -->
       <div class="favorite favoritebanner" style="display: none;">
       </div>

       <!-- Index Header -->
       <div class="index" style="display: none;">
         <h2>Doge Yip</h2>
         <p>
           A social network built on top of the Dogecoin blockchain.<br/>
           To register send 15 DOGE to <a href="img/dogeyip.png">Doge Yip</a>
         </p>
       </div>

       <!-- Language Header -->
       <div class="language" style="display: none;">
         <h2>Language</h2>
         <p>
           Note that your language choice is extreamly important as it is used for compression and decoding messages.<br/>
         </p>
       </div>

       <!-- Post Header -->
       <div class="post" style="display: none;">
         <h2>Bark</h2>
         <p>
           Post a message to your profile.<br/>
         </p>
       </div>

       <!-- Profile Header -->
       <div class="profile profilebanner" style="display: none;">
       </div>

       <!-- Search Header -->
       <div class="search" style="display: none;">
         <h2>Search</h2>
         <p>
           You can search for any account that has set their profile name.<br/>
         </p>
       </div>

       <!-- Set Name Header -->
       <div class="setname" style="display: none;">
         <h2>Set Name</h2>
         <p>
           You can set your profile name here so that others can search for your account using a profile name.<br/>
         </p>
       </div>

       <!-- Set Name Header -->
       <div class="bigqrcode" style="display: none;">
         <h2>QR Code</h2>
         <p>
           You can scan this code to easily make a Dogecoin transaction.<br/>
         </p>
       </div>
      </td>
     </tr>
    </table>
   </div>
  </div>

  <!-- Favorite Articles -->
  <div class="favorite" style="display: none;">
    <article class="container">
      <br/>
      <div id="favoriteQRPostCode"></div>
      <br/>
      <p>
        <input id="favoriteBase58Check" type="text" style="width:100%;" value=""/>
      </p>
    </article>
  </div>

  <!-- Index Articles -->
  <div class="index" style="display: none;">
    <article id="recentusers" class="container">
      <div id="9999999999" style="padding: 10px">
        <b><u>Recent Users</u> &bull; <a href="javascript: void(0)" onclick="$('#recentactivity').show();$('#recentusers').hide();">Recent Activity</a></b>
      </div>
    </article>
    <article id="recentactivity" class="container" style="display: none;">
      <div id="9999999998" style="padding: 10px">
        <b><a href="javascript: void(0)" onclick="$('#recentactivity').hide();$('#recentusers').show();">Recent Users</a> &bull; <u>Recent Activity</u></b>
      </div>
    </article>
  </div>

  <!-- Language Articles -->
  <div class="language" style="display: none;">
    <article id="language" class="container">
      <div class="container">
        <h2>Language Choices</h2>
        <div><font style="font-size: 175%; vertical-align:middle;">[x] English</font></div>
      </div>
    </article>
  </div>

  <!-- Post Articles -->
  <div class="post" style="display:none;">
    <article id="post" class="container">
      <h2>Compose new Bark</h2>
      <form id="bark">
        <textarea id="message" rows="6" style="width:100%;">Bow wow!</textarea>
        <br />
      </form>
      <h2>To Post Text Make a Dogecoin Transaction with all QR Codes Below.</h2>
      <div class="qrUnavailable" style="display:none;"><img src="img/open-iconic/hand.svg"></div>
      <table id="postCodeTable0">
       <tr>
        <td><b>A</b>&nbsp;</td>
        <td><div id="qrPostCode0"></div></td>
        <td>&nbsp;<textarea id="postCode0" style="width:150px;height:150px;">DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4</textarea></td>
       </tr>
      </table>
      <br/>
      <table id="postCodeTable1" style="display:none;">
       <tr>
        <td><b>B</b>&nbsp;</td>
        <td><div id="qrPostCode1"></div></td>
        <td>&nbsp;<textarea id="postCode1" style="width:150px;height:150px;">DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4</textarea></td>
       </tr>
      </table>
      <br/>
      <table id="postCodeTable2" style="display:none;">
       <tr>
        <td>C&nbsp;</td>
        <td><div id="qrPostCode2"></div></td>
        <td>&nbsp;<textarea id="postCode2" style="width:150px;height:150px;">DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4</textarea></td>
       </tr>
      </table>
      <br/>
      <table id="postCodeTable3" style="display:none;">
       <tr>
        <td><b>D</b>&nbsp;</td>
        <td><div id="qrPostCode3"></div></td>
        <td>&nbsp;<textarea id="postCode3" style="width:150px;height:150px;">DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4</textarea></td>
       </tr>
      </table>
      <br/>
      <table id="postCodeTable4" style="display:none;">
       <tr>
        <td><b>E</b>&nbsp;</td>
        <td><div id="qrPostCode4"></div></td>
        <td>&nbsp;<textarea id="postCode4" style="width:150px;height:150px;">DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4</textarea></td>
       </tr>
      </table>
    </article>
  </div>

  <!-- Profile Articles -->
  <div class="profile" style="display:none;">
    <article class="container">
      <div class="profilenews" style="display:none;">
        <b>
          <u>News</u>
            &bull; 
          <a href="javascript: void(0)" onclick="$('.profilenews').hide();$('.profileposts').show();$('.profilenotifications').hide();">Activities</a>
            &bull; 
          <a href="javascript: void(0)" onclick="$('.profilenews').hide();$('.profileposts').hide();$('.profilenotifications').show();">Notifications</a>
        </b>
      </div>
      <div class="profileposts">
        <b>
          <a href="javascript: void(0)" onclick="$('.profilenews').show();$('.profileposts').hide();$('.profilenotifications').hide();">News</a>
            &bull; 
          <u>Activities</u>
            &bull; 
          <a href="javascript: void(0)" onclick="$('.profilenews').hide();$('.profileposts').hide();$('.profilenotifications').show();">Notifications</a>
        </b>
      </div>
      <div class="profilenotifications" style="display:none;">
        <b>
          <a href="javascript: void(0)" onclick="$('.profilenews').show();$('.profileposts').hide();$('.profilenotifications').hide();">News</a>
            &bull; 
          <a href="javascript: void(0)" onclick="$('.profilenews').hide();$('.profileposts').show();$('.profilenotifications').hide();">Activities</a>
            &bull; 
          <u>Notifications</u>
        </b>
      </div>
    </article>
    <article id="posts" class="container profileposts">
    </article>
    <article id="news" class="container profilenews">
    </article>
    <article id="notifications" class="container profilenotifications">
    </article>
  </div>

  <!-- Search Articles -->
  <div class="search" style="display:none;">
    <article id="post" class="container">
      <div>
        <h2>Search For Account By Name</h2>
        <form>
          <input id="accountsearch" type="text" style="width:100%;" value="Doge_Yip"/>
        </form>
      </div>
      <br/>
      <div id="accountsearchresults">
        <a href="profile.html?user=DPRrGMJ3Vtf6atodtZ9HsUVqmZjWkjGj8Q">
          <img width="35px" height="35px" src="img/open-iconic/person.svg" style="vertical-align:middle;">
          <span><font style="font-size: 175%; vertical-align:middle;" class="DPRrGMJ3Vtf6atodtZ9HsUVqmZjWkjGj8Q"> Doge_Yip</font></span>
        </a>
      </div>
    </article>
  </div>

  <!-- Set Name -->
  <div class="setname" style="display:none;">
    <article id="post" class="container">
      <h2>Set Name</h2>
      <form id="bark">
        <input id="setnameinput" type="text" style="width:100%;" value="Doge_Yip"/>
      </form>
      <br/>
      <h2>Make a Dogecoin Transaction with the Below Address to Set Your Name.</h2>
      <div id="setnameQRPostCode"></div>
      <div class="qrUnavailable" style="display:none;"><img src="img/open-iconic/ban.svg"></div>
      <br/>
      <p>
        <input id="setnamebase58Check" type="text" style="width:100%;" value="DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4"/>
      </p>
    </article>
  </div>

  <!-- Big QR Code -->
  <div class="bigqrcode" style="display:none;">
    <article id="post" class="container">
      <br/>
      <div id="bigqrcodeimg"></div>
      <br/>
      <p>
        <input id="bigqrcodeaddress" type="text" style="width:100%;" value="DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4"/>
      </p>
    </article>
  </div>

<script type="text/javascript">
jQuery(document).ready(function($) {
  jQuery.support.cors = true;

  $(".index").show();

  $(".favoritelink").click(function( event ) {
    showLink("favorite");
  });

  $(".indexlink").click(function( event ) {
    showLink("index");
  });

  $(".languagelink").click(function( event ) {
    showLink("language");
  });

  $(".postlink").click(function( event ) {
    showLink("post");
  });

  $(".profilelink").click(function( event ) {
    showLink("profile");
  });

  $(".searchlink").click(function( event ) {
    showLink("search");
  });

  $(".setnamelink").click(function( event ) {
    showLink("setname");
  });

  $(".bigqrcode").click(function( event ) {
    showLink("bigqrcode");
  });

  /*index javascript*/
  var doge_yip_address = "DPRrGMJ3Vtf6atodtZ9HsUVqmZjWkjGj8Q";
  getAddressJson(doge_yip_address).done(function(json){
    listAccount(doge_yip_address, "recentusers");
    listedAddresses = [doge_yip_address]

    for(var i=0; i<json.data.txs.length; i++){
      var tx = json.data.txs[i];
      if(tx.incoming!=null){
        var is_registered = tx.incoming.value==15;
        if(is_registered){
          for(j=0; j<tx.incoming.inputs.length; j++){
            accountAddress = tx.incoming.inputs[j].address;
            if(!inArray(listedAddresses, accountAddress)){
              listAccount(accountAddress, "recentusers");
              scrapeRecentActivity(accountAddress);
              listedAddresses.push(accountAddress);
            }
          }
        }
      }
    };
  });

  /*search*/
  $("#accountsearch").keyup(function( event ) {
    $("#accountsearchresults").html("");
    var searchTerm = $("#accountsearch").val();
    listResults(searchTerm, "accountsearchresults");
  });

  /*setname*/
  var qrcode = new QRCode("setnameQRPostCode", {
    text: "DBNwwnFHQxdAjNT3agJxmCDmLR1QkJJ6GR",
    width: 150,
    height: 150,
    colorDark : "#000000",
    colorLight : "#FBF0D9",
    correctLevel : QRCode.CorrectLevel.H
  });
  $("#setnameinput").keyup(function( event ) {
    populateSetNameQrCode(qrcode);
  });

  /*post*/
  var qrcode0 = new QRCode("qrPostCode0", {
    text: "DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4",
    width: 150,
    height: 150,
    colorDark : "#000000",
    colorLight : "#FBF0D9",
    correctLevel : QRCode.CorrectLevel.H
  });
  var qrcode1 = new QRCode("qrPostCode1", {
    text: "DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4",
    width: 150,
    height: 150,
    colorDark : "#000000",
    colorLight : "#FBF0D9",
    correctLevel : QRCode.CorrectLevel.H
  });
  var qrcode2 = new QRCode("qrPostCode2", {
    text: "DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4",
    width: 150,
    height: 150,
    colorDark : "#000000",
    colorLight : "#FBF0D9",
    correctLevel : QRCode.CorrectLevel.H
  });
  var qrcode3 = new QRCode("qrPostCode3", {
    text: "DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4",
    width: 150,
    height: 150,
    colorDark : "#000000",
    colorLight : "#FBF0D9",
    correctLevel : QRCode.CorrectLevel.H
  });
  var qrcode4 = new QRCode("qrPostCode4", {
    text: "DBCNfoKA9hsttrniPuLoRLndXwSr8pGdo4",
    width: 150,
    height: 150,
    colorDark : "#000000",
    colorLight : "#FBF0D9",
    correctLevel : QRCode.CorrectLevel.H
  });
  var qrCodes = [qrcode0,qrcode1,qrcode2,qrcode3,qrcode4];

  function populatePostingQrCodes(){
    $.getJSON("english_dictionary_encode.json", function(dictionary) {
      var message = $("#message").val();
      var base58Check = messageToBase58Check(message, dictionary, "80");
      if(base58Check==null || base58Check.length>5){
        $("#qrUnavailable").show();
        for(var i=0; i<5; i++){
          $("#qrPostCode"+i).hide();
          $("#postCode"+i).hide();
        }
      } else{
        $("#qrUnavailable").hide();
        for(var i=0; i<5; i++){
          if(i<base58Check.length){
            $("#postCodeTable"+i).show();
            qrCodes[i].clear();
            qrCodes[i].makeCode(base58Check[i]);
            $("#postCode"+i).text(base58Check[i]);
          } else{
            $("#postCodeTable"+i).hide();
          }
        }
      }
    });
  }

  $("#message").keyup(function( event ) {
    populatePostingQrCodes();
  });
});




</script>
</body>
</html>
